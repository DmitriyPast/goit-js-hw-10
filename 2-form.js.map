{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n  save(name, value) {\n    this[name] = value;\n    window.localStorage['feedback-form-state'] = JSON.stringify(this);\n    // console.log('saved:', window.localStorage['feedback-form-state']);\n  },\n  load() {\n    const local = JSON.parse(window.localStorage['feedback-form-state'] || 0);\n    if (!local) return undefined;\n    this.email = local.email;\n    this.message = local.message;\n    return local;\n  },\n  clear() {\n    window.localStorage.removeItem('feedback-form-state');\n    this.email = '';\n    this.message = ';';\n  },\n};\n// window.localStorage.removeItem('feedback-form-state');\n// window.localStorage['feedback-form-state'] = undefined;\n// console.log('Initialstate:', window.localStorage['feedback-form-state']);\n\nconst form = document.querySelector('.feedback-form');\n// console.log(formData.load());\nif (formData.load()) {\n  // console.log(form.querySelectorAll('label > *'));\n  const fields = form.querySelectorAll('label > *');\n  fields[0].value = formData.email;\n  fields[1].value = formData.message;\n}\n\nform.addEventListener('input', handleFormInput);\n\nfunction handleFormInput(iev) {\n  //   console.log(iev.target.name, iev.target.value);\n  const { name, value } = iev.target;\n\n  if (name === 'email' || name === 'message') {\n    formData.save(name, value);\n    // console.log(formData);\n    return;\n  }\n}\n\nform.addEventListener('submit', submitHandleFunc);\n\nfunction submitHandleFunc(sbEv) {\n  sbEv.preventDefault();\n  const fmIn = sbEv.target;\n  // console.log(fmIn[0].value);\n  // console.log(`object \"${sbEv.target[0].name}\" && \"${sbEv.target[1].name}\"`);\n  if (fmIn[0].value.trim() && fmIn[1].value.trim()) {\n    // const login =\n    console.log(formData);\n    formData.clear();\n    fmIn.reset();\n  } else {\n    alert('Fill please all fields');\n  }\n}\n"],"names":["formData","name","value","local","form","fields","handleFormInput","iev","submitHandleFunc","sbEv","fmIn"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,GACT,KAAKC,EAAMC,EAAO,CAChB,KAAKD,CAAI,EAAIC,EACb,OAAO,aAAa,qBAAqB,EAAI,KAAK,UAAU,IAAI,CAEjE,EACD,MAAO,CACL,MAAMC,EAAQ,KAAK,MAAM,OAAO,aAAa,qBAAqB,GAAK,CAAC,EACxE,GAAKA,EACL,YAAK,MAAQA,EAAM,MACnB,KAAK,QAAUA,EAAM,QACdA,CACR,EACD,OAAQ,CACN,OAAO,aAAa,WAAW,qBAAqB,EACpD,KAAK,MAAQ,GACb,KAAK,QAAU,GAChB,CACH,EAKMC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,GAAIJ,EAAS,KAAI,EAAI,CAEnB,MAAMK,EAASD,EAAK,iBAAiB,WAAW,EAChDC,EAAO,CAAC,EAAE,MAAQL,EAAS,MAC3BK,EAAO,CAAC,EAAE,MAAQL,EAAS,OAC7B,CAEAI,EAAK,iBAAiB,QAASE,CAAe,EAE9C,SAASA,EAAgBC,EAAK,CAE5B,KAAM,CAAE,KAAAN,EAAM,MAAAC,GAAUK,EAAI,OAE5B,GAAIN,IAAS,SAAWA,IAAS,UAAW,CAC1CD,EAAS,KAAKC,EAAMC,CAAK,EAEzB,MACD,CACH,CAEAE,EAAK,iBAAiB,SAAUI,CAAgB,EAEhD,SAASA,EAAiBC,EAAM,CAC9BA,EAAK,eAAc,EACnB,MAAMC,EAAOD,EAAK,OAGdC,EAAK,CAAC,EAAE,MAAM,KAAI,GAAMA,EAAK,CAAC,EAAE,MAAM,QAExC,QAAQ,IAAIV,CAAQ,EACpBA,EAAS,MAAK,EACdU,EAAK,MAAK,GAEV,MAAM,wBAAwB,CAElC"}